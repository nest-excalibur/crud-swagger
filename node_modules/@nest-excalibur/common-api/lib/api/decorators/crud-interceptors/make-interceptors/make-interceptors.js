"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.makeInterceptors = void 0;
const shared_utils_1 = require("@nestjs/common/utils/shared.utils");
const validate_each_util_1 = require("@nestjs/common/utils/validate-each.util");
const extend_metadata_util_1 = require("@nestjs/common/utils/extend-metadata.util");
const constants_1 = require("@nestjs/common/constants");
function makeInterceptors(methodName, target, interceptors) {
    const isInterceptorValid = (interceptor) => interceptor && (shared_utils_1.isFunction(interceptor) ||
        shared_utils_1.isFunction(interceptor.intercept));
    validate_each_util_1.validateEach(target, interceptors, isInterceptorValid, '@UseInterceptors', 'interceptor');
    extend_metadata_util_1.extendArrayMetadata(constants_1.INTERCEPTORS_METADATA, interceptors, target.prototype[methodName]);
    return target;
}
exports.makeInterceptors = makeInterceptors;
