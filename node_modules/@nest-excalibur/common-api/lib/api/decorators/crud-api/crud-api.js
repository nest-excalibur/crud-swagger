"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CrudApi = void 0;
const __1 = require("../../..");
const transform_dict_1 = require("../../shared-utils/transform-dict");
/**
 * General Decorator which can define guards, documentation, interceptors and headers for the crud methods
 * @Params CrudConfig
 */
function CrudApi(options) {
    return (target) => {
        const guardsConfig = transform_dict_1.transformDict(options, 'guards');
        const crudInterceptorsConfig = transform_dict_1.transformDict(options, 'interceptors');
        const crudHeadersConfig = transform_dict_1.transformDict(options, 'header');
        // Build Guards
        target = __1.DecoratorHelper.makeCrudGuards(guardsConfig, target);
        // Build Interceptors
        target = __1.DecoratorHelper.makeCrudInterceptors(crudInterceptorsConfig, target);
        // Build Headers
        target = __1.DecoratorHelper.makeCrudHeaders(crudHeadersConfig, target);
        return target;
    };
}
exports.CrudApi = CrudApi;
